[gd_scene load_steps=38 format=3 uid="uid://cnp3d0a7mhq24"]

[ext_resource type="PackedScene" uid="uid://nqicemm0nxbm" path="res://Entities/Player/Default/DefaultPlayer.tscn" id="1_r06s2"]
[ext_resource type="Texture2D" uid="uid://chluys4buttnp" path="res://Assets/robinHood_ v1.1/robinHood_.png" id="2_c2emb"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/RangedAbilityInput.cs" id="2_nqj6f"]
[ext_resource type="Texture2D" uid="uid://ccysqog8r3h0f" path="res://Assets/robinHood_ v1.1/weapons_.png" id="3_6cfkw"]
[ext_resource type="PackedScene" uid="uid://brrb6leg78kbu" path="res://Entities/Player/Ranged/Scenes/Laser.tscn" id="3_lvp8j"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/BowA1.cs" id="3_proag"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/BowPrimaryAttack.cs" id="3_vjdos"]
[ext_resource type="PackedScene" uid="uid://b6wjgyorrpnim" path="res://Entities/Player/Ranged/Scenes/ArrowRainSpawner.tscn" id="4_ekd8g"]
[ext_resource type="PackedScene" uid="uid://ck4qo3iu67da5" path="res://Entities/Player/Ranged/Scenes/Arrow.tscn" id="4_gv3aw"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/BowWandSwitch.cs" id="4_wa6n2"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/BowA2.cs" id="5_e2i63"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/MageA1.cs" id="5_vbkvm"]
[ext_resource type="PackedScene" uid="uid://cqebcjsifjb" path="res://Entities/Player/Ranged/Scenes/ChaosStorm.tscn" id="6_kwedf"]
[ext_resource type="PackedScene" uid="uid://dp8gdpn0t1rew" path="res://Entities/Player/Ranged/Scenes/FocusShot.tscn" id="6_wuw7c"]
[ext_resource type="Script" path="res://Entities/Player/Ranged/Logic/MageA2.cs" id="7_s4nqc"]
[ext_resource type="PackedScene" uid="uid://dwcfhw8p8pjpq" path="res://Entities/Player/Ranged/Scenes/ChaosBomb.tscn" id="8_dngnp"]

[sub_resource type="AtlasTexture" id="AtlasTexture_mxfhw"]
atlas = ExtResource("2_c2emb")
region = Rect2(0, 120, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_wjmo8"]
atlas = ExtResource("2_c2emb")
region = Rect2(24, 120, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_7tluk"]
atlas = ExtResource("2_c2emb")
region = Rect2(48, 120, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_hjjj1"]
atlas = ExtResource("2_c2emb")
region = Rect2(72, 120, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_st37s"]
atlas = ExtResource("2_c2emb")
region = Rect2(0, 96, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_i5ylf"]
atlas = ExtResource("2_c2emb")
region = Rect2(24, 96, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ftb6x"]
atlas = ExtResource("2_c2emb")
region = Rect2(48, 96, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_4efb2"]
atlas = ExtResource("2_c2emb")
region = Rect2(72, 96, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_fpapr"]
atlas = ExtResource("2_c2emb")
region = Rect2(0, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_vnhyp"]
atlas = ExtResource("2_c2emb")
region = Rect2(24, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_wcw7b"]
atlas = ExtResource("2_c2emb")
region = Rect2(48, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_1jp0t"]
atlas = ExtResource("2_c2emb")
region = Rect2(72, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_45nwq"]
atlas = ExtResource("2_c2emb")
region = Rect2(0, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_s6jle"]
atlas = ExtResource("2_c2emb")
region = Rect2(24, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_5bch1"]
atlas = ExtResource("2_c2emb")
region = Rect2(48, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_wtj5i"]
atlas = ExtResource("2_c2emb")
region = Rect2(72, 48, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_brk3s"]
atlas = ExtResource("2_c2emb")
region = Rect2(0, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ccnsu"]
atlas = ExtResource("2_c2emb")
region = Rect2(24, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_clp5l"]
atlas = ExtResource("2_c2emb")
region = Rect2(48, 24, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_m4l2p"]
atlas = ExtResource("2_c2emb")
region = Rect2(72, 24, 24, 24)

[sub_resource type="SpriteFrames" id="SpriteFrames_shkyu"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mxfhw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wjmo8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7tluk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hjjj1")
}],
"loop": true,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_st37s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i5ylf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ftb6x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4efb2")
}],
"loop": true,
"name": &"hit",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fpapr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vnhyp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wcw7b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1jp0t")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_45nwq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s6jle")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5bch1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wtj5i")
}],
"loop": true,
"name": &"jump_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_45nwq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s6jle")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5bch1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wtj5i")
}],
"loop": true,
"name": &"jump_run",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_brk3s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ccnsu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_clp5l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m4l2p")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[node name="RangedPlayer" instance=ExtResource("1_r06s2")]

[node name="Sprite2D" parent="." index="0"]
sprite_frames = SubResource("SpriteFrames_shkyu")
animation = &"hit"
autoplay = "idle"
AnimNames = PackedStringArray("idle", "run", "death", "hit", "jump_idle", "jump_run")

[node name="Sprite2D" type="Sprite2D" parent="Sprite2D" index="0"]
position = Vector2(12.5, 0)
texture = ExtResource("3_6cfkw")
region_enabled = true
region_rect = Rect2(12, 0, 12, 24)
script = ExtResource("4_wa6n2")
BOW_RECT = Rect2(12, 0, 12, 24)
WAND_RECT = Rect2(0, 0, 12, 24)

[node name="Abilities" parent="." index="1"]
position = Vector2(0, 4)
script = ExtResource("2_nqj6f")
secondaryCD = 1.0
maxArrowCharge = 1.0
arrowChargeRate = 1.0
maxLaserCharge = 100.0
laserRegenRate = 40.0
laserTimeout = 5.0
laserDecayRate = 20.0
mageA1CD = 1.0
mageA2CD = 1.0

[node name="Ability1" parent="Abilities" index="0"]
script = ExtResource("3_proag")
stormScene = ExtResource("4_ekd8g")

[node name="Ability2" parent="Abilities" index="1"]
script = ExtResource("5_e2i63")
stormScene = ExtResource("6_wuw7c")

[node name="PrimaryAttack" parent="Abilities" index="2"]
script = ExtResource("3_vjdos")
primaryAttack = ExtResource("4_gv3aw")

[node name="MageA1" type="Node2D" parent="Abilities" index="4"]
position = Vector2(0, -3.8647)
scale = Vector2(1.05065, 0.966174)
script = ExtResource("5_vbkvm")
stormScene = ExtResource("6_kwedf")

[node name="MageA2" type="Node2D" parent="Abilities" index="5"]
position = Vector2(1.05065, -8.69557)
scale = Vector2(1.10387, 0.933493)
script = ExtResource("7_s4nqc")
bombScene = ExtResource("8_dngnp")

[node name="StatManager" parent="." index="8"]
testmode = true

[node name="RayCast2D" parent="." index="9" instance=ExtResource("3_lvp8j")]

[connection signal="ArrowFired" from="Abilities" to="Abilities/PrimaryAttack" method="OnActivated"]
[connection signal="LaserFiring" from="Abilities" to="RayCast2D" method="triggerLaser"]
[connection signal="MageA1Activated" from="Abilities" to="Abilities/MageA1" method="OnActivated"]
[connection signal="MageA2Activated" from="Abilities" to="Abilities/MageA2" method="OnActivated"]
[connection signal="ModeChanged" from="Abilities" to="Sprite2D/Sprite2D" method="triggerSwitch"]
